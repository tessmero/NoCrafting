/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package nocrafting.actors;

import gfx.CImage;
import java.util.List;
import nocrafting.Global;
import nocrafting.map.MapEffect;
import nocrafting.map.MapObject;
import org.lwjgl.input.Keyboard;

/**
 *
 * @author Oliver
 */
public class Diglett extends Pokemon{
    
    public Diglett(int xPos, int yPos) {
        super(xPos, yPos);
    }
    
    @Override
    public void startSummonBehavior( int dir ) {
        summoned = true;
        state.setDirection( dir );
        state.setState( ActorAnimState.STATE_WALKING);
        state.update( 0, true );
        currentEffect = new MapEffect.Dig( this );
    }
    
    @Override
    public void update( List<MapObject> l, long ms ){
        if( summoned ){
            state.update( ms, onTile() );
            walkDist = Math.min( maxWalkDist, ms*walkSpeed );
            xPos += state.getDx()*walkDist;
            yPos += state.getDy()*walkDist;
            if( !Keyboard.isKeyDown( Global.KEY_USE_POKEMON ) )
                summoned = false;
        }else
            super.update( l, ms );
        currentEffect = new MapEffect.Dig( this );
    }
    
    @Override
    protected CImage[] buildAllSprites() {
//        BufferedImage sheet = RawImageHandler.getInstance().getResourceImage( "diglett" );
//        CImage[] rawSprites = new CImage[8];
//        for( int i = 0 ; i < 8 ; i++ )
//            rawSprites[i] = new CImage( sheet.getSubimage( i*16, 0, 16, 16 ) );
//        System.out.println( "private static final CImage[] allSprites = {");
//        for( int i = 0 ; i < 8 ; i++ )
//            System.out.println( "new CImage( \"" + rawSprites[i].toVerboseString() + "\"),");
//        System.out.println( "}" );
        CImage[] result = new CImage[12];
        int i = 0;
        for( int j : new int[]{ 0,1,0,2,3,2,4,5,4,6,7,6 } )
            result[i++] = allSprites[j];
        return result;
    }
    
    @Override
    public CImage getIcon() {
//        CImage result = new CImage( RawImageHandler.getInstance().getResourceImage( "diglett_icon" ) );
//        System.out.println( "private static final CImage icon = new CImage( \"" + result.toVerboseString() + "\" );" );
//        return result;
        return icon;
    }
    
    private static final CImage[] allSprites = {
    new CImage( "16:16:00000000000000000000000000000000000000004949000049496D4900000000000000496D6D49496DB66D6D4949000000496D6D6DB66D6D6D6D49B6B66D496D000049B6B6446868686868446D6D6D490000496D0068686868686868006D490000000049006868686868686800490000000000000068686868686868000000000000000044688D8D8D8D8D684400000000000000448D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D440000000000000000000044444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000011001111000000011111111111000111111111111111001111111111111100111111111111100001111111111100000011111111100000001111111110000000111111111000000011111111100000000111111100000000001111100000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:0000000000000000000000000000000000000000004949000049496D49000000000000496D6D6D49B66DB6B66D49000000496D6D6D6D6DB66D6D6D6D6DB66D4900496DB66D446868686868446D6D6D490000496D0068686868686868006D4900000000490068686868686868004900000000000044688D8D8D8D8D684400000000000000448D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D44000000000000000000004444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000001100111100000011111111111000111111111111111011111111111111100111111111111100001111111111100000011111111100000001111111110000000111111111000000001111111000000000011111000000000000000000000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:000000000000000000000000000000000000000000496D6D4900496D00000000000000496D6D6DB649496D6D4949000000496D6DB6B649496D6D6DB66D6D49000000496D6D446868686868446DB649000000496D0068686868686800006D0000000000490068686868687085850000000000000000686868680070C9C98500000000000044688D8D8DB68D70CEC9000000000000448D8D8D8D8D8D8D7070000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D440000000000000000000044444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000001111011000000011111111111000111111111111110001111111111111000111111111111000001111111111100000011111111111000001111111111100000111111111100000011111111100000000111111100000000001111100000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:00000000000000000000000000000000000000000049496D6D0049490000000000000049496DB66D6D496D6D6D490000006D6DB6B66D496D6D6DB66D6DB6490000496D6D6D44686868686800006D49000000496D0068686868687085850000000000004900686868680070C9C98500000000000044688D8D8DB68D70CEC9000000000000448D8D8D8D8D8D8D7070000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D44000000000000000000004444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000001111011000000011111111111000111111111111110011111111111111000111111111111000001111111111110000011111111111000001111111111000000111111111000000001111111000000000011111000000000000000000000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:0000000000000000000000000000000000000000006D4949490000496D0000000000006D496D6DB66D49496D6D490000006D496DB6B6496D6D6D6DB6496D6D4900496D6D6D44680000006844B6B66D490000496D0068008585850068006D490000000049006870C9CEC970680049000000000000006800686868006800000000000000004468B68D8D8DB6684400000000000000448D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D440000000000000000000044444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000001111001100000011111111111000111111111111111011111111111111100111111111111100001111111111100000011111111100000001111111110000000111111111000000011111111100000000111111100000000001111100000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:00000000000000000000000000000000000000000049496D494900496D000000000000496D6D6DB6B66D49B64949000000496DB66D6D490000006D6D6D6D496D00496D6D6D490085858500686DB6B6490000496D006870C9CEC97068006D490000000049006800686868006800490000000000000068B68D8D8DB6680000000000000000448D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D44000000000000000000004444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000001111101100000011111111111000111111111111111011111111111111100111111111111100001111111111100000011111111100000001111111110000000111111111000000001111111000000000011111000000000000000000000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:00000000000000000000000000000000000000006D4900496D6D490000000000000049496D6D4949B66D6D6D4900000000496D6DB66D6D6D4949B6B66D6D49000049B66D446868686868446D6D49000000006D0000686868686868006D49000000000085857068686868680049000000000085C9C970006868686800000000000000C9CE708DB68D8D8D684400000000000070708D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D44000000000000000000004444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000011011110000000111111111110000111111111111110011111111111110000111111111111000011111111111000011111111111000001111111111100000011111111110000000111111111000000001111111000000000011111000000000000000000000000000000000000000000000000000000"),
    new CImage( "16:16:00000000000000000000000000000000000000004949006D6D494900000000000000496D6D6D496D6DB66D49490000000049B66D6DB66D6D6D496DB6B66D6D0000496D00006868686868446D6D6D49000000008585706868686868006D490000000085C9C970006868686800490000000000C9CE708DB68D8D8D684400000000000070708D8D8D8D8D8D8D4400000000000000448D8D8D8D8D8D8D440000000000000000448D8D8D8D8D4400000000000000000000444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000:0000000000000000000011011110000000111111111110000111111111111110011111111111111000111111111111000111111111111000011111111111000000111111111100000001111111110000000011111110000000000111110000000000000000000000000000000000000000000000000000000000000000000000"),
    };
    
    private static final CImage icon = new CImage( "14:12:000000006D6D6D6D6D6D0000000000006D6DB6B66D6D6D6D6D6D0000006DB66D6D6D6D6DB66D6D6D6D006DB66D6D6DB1B1B16D6D6D6D6D6D6DB66D49B1B1B1B1B1B1496D6D6D006D6D49B14949B1B1B1496D6D0000006D4949EDED6DB1B1496D000000000049EDED6D49B1B14900000000000049B149B1FFD6B1490000000000006DB1FFD6D6D6B16D0000000000000049D6D6D6B149000000000000000000494949490000000000:000011111100000011111111110001111111111110111111111111111111111111111101111111111110001111111111000001111111100000011111111000000111111110000000111111000000000111100000" );

}
